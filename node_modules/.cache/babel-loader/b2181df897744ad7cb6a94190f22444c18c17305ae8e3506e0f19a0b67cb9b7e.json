{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useLocation}from'react-router-dom';import Nav from\"../../components/Nav\";import SearchFeed from\"../../components/SearchFeed\";import styled from'styled-components';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SearchPage=()=>{const[searchResults,setSearchResults]=useState([]);const showSearch=true;const useQuery=()=>{return new URLSearchParams(useLocation().search);//현재 경로의 쿼리 문자열 \n};//url ?뒤의 파라미터들을 가져옴 \nlet query=useQuery();const searchTerm=query.get(\"q\");useEffect(()=>{if(searchTerm){//만약 searchTerm이 존재한다면 \nfetchSearchItems(searchTerm);}},[searchTerm]);const fetchSearchItems=async searchTerm=>{try{// 데이터 가져오기\nconst response=await axios.get('/data.json');// 제목에 검색어가 포함된 아이템 필터링\nconst filteredProjects=response.data.filter(item=>item.title.toLowerCase().includes(searchTerm.toLowerCase()));// 필터링된 아이템 출력\nconsole.log(\"search items:\",filteredProjects);setSearchResults(filteredProjects);// 필터링된 프로젝트 설정\n}catch(error){console.error(\"Error fetching search items:\",error);}};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Nav,{showSearch:showSearch}),searchResults.length>0?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(ResultMessage,{children:[\"\\u201C\",searchTerm,\"\\u201D\\uC5D0 \\uB300\\uD55C \\uACB0\\uACFC\"]})}):/*#__PURE__*/_jsxs(NoResults,{children:[\"\\uCC3E\\uACE0\\uC790\\uD558\\uB294 \\uAC80\\uC0C9\\uC5B4 \\\"\",searchTerm,\"\\\"\\uC5D0 \\uB9DE\\uB294 \\uC544\\uC774\\uD15C\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"]}),/*#__PURE__*/_jsx(SearchFeed,{itemList:searchResults,setSearchResults:setSearchResults})]});};export default SearchPage;const Container=styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  height: 100vh;\n  padding: 20px;\n  width: 100%;\n  margin-top: 15%;\n\n`;const NoResults=styled.p`\n  font-size: 24px;\n  font-weight: bold;\n  color: #777;\n\n\n`;const ResultMessage=styled.p`\n  font-size: 24px;\n  font-weight: bold;\n\n  color: #777;\n`;","map":{"version":3,"names":["React","useState","useEffect","useLocation","Nav","SearchFeed","styled","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SearchPage","searchResults","setSearchResults","showSearch","useQuery","URLSearchParams","search","query","searchTerm","get","fetchSearchItems","response","filteredProjects","data","filter","item","title","toLowerCase","includes","console","log","error","Container","children","length","ResultMessage","NoResults","itemList","div","p"],"sources":["/Users/star7/Desktop/joolang/frontend-service/src/pages/SearchPage/index.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\nimport { useLocation} from 'react-router-dom';\nimport Nav from \"../../components/Nav\"; \nimport SearchFeed from \"../../components/SearchFeed\"; \nimport styled from 'styled-components';\nimport axios from 'axios';\n\nconst SearchPage = () => {\n    const [searchResults, setSearchResults] = useState([]);\n    const showSearch = true;\n\n    const useQuery = () => {\n        return new URLSearchParams(useLocation().search); //현재 경로의 쿼리 문자열 \n      }; //url ?뒤의 파라미터들을 가져옴 \n\n\n      let query = useQuery();\n      const searchTerm = query.get(\"q\");\n\n      useEffect(()=> {\n        if (searchTerm) { //만약 searchTerm이 존재한다면 \n            fetchSearchItems(searchTerm);\n        }\n      }, [searchTerm]);\n\n\n      const fetchSearchItems = async (searchTerm) => {\n        try {\n          // 데이터 가져오기\n          const response = await axios.get('/data.json');\n          \n          // 제목에 검색어가 포함된 아이템 필터링\n          const filteredProjects = response.data.filter(item => \n            item.title.toLowerCase().includes(searchTerm.toLowerCase())\n          );\n\n          // 필터링된 아이템 출력\n          console.log(\"search items:\", filteredProjects);\n      \n          setSearchResults(filteredProjects); // 필터링된 프로젝트 설정\n        } catch (error) {\n          console.error(\"Error fetching search items:\", error);\n        }\n      };\n      \n\n\n        return (\n            <Container>\n            <Nav  showSearch={showSearch}/>\n\n          {searchResults.length > 0 ? (\n            <>\n              <ResultMessage>“{searchTerm}”에 대한 결과</ResultMessage>\n            </>\n          ) : (\n            <NoResults>찾고자하는 검색어 \"{searchTerm}\"에 맞는 아이템이 없습니다.</NoResults>\n          )}\n          \n             <SearchFeed itemList={searchResults} setSearchResults={setSearchResults} />\n            \n    \n            </Container>\n            \n \n  )\n}\n\nexport default SearchPage\n\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  height: 100vh;\n  padding: 20px;\n  width: 100%;\n  margin-top: 15%;\n\n`;\n\n\nconst NoResults = styled.p`\n  font-size: 24px;\n  font-weight: bold;\n  color: #777;\n\n\n`;\n\n\nconst ResultMessage = styled.p`\n  font-size: 24px;\n  font-weight: bold;\n\n  color: #777;\n`;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAChD,OAASC,WAAW,KAAO,kBAAkB,CAC7C,MAAO,CAAAC,GAAG,KAAM,sBAAsB,CACtC,MAAO,CAAAC,UAAU,KAAM,6BAA6B,CACpD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE1B,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACrB,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAAAgB,UAAU,CAAG,IAAI,CAEvB,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACnB,MAAO,IAAI,CAAAC,eAAe,CAAChB,WAAW,CAAC,CAAC,CAACiB,MAAM,CAAC,CAAE;AACpD,CAAC,CAAE;AAGH,GAAI,CAAAC,KAAK,CAAGH,QAAQ,CAAC,CAAC,CACtB,KAAM,CAAAI,UAAU,CAAGD,KAAK,CAACE,GAAG,CAAC,GAAG,CAAC,CAEjCrB,SAAS,CAAC,IAAK,CACb,GAAIoB,UAAU,CAAE,CAAE;AACdE,gBAAgB,CAACF,UAAU,CAAC,CAChC,CACF,CAAC,CAAE,CAACA,UAAU,CAAC,CAAC,CAGhB,KAAM,CAAAE,gBAAgB,CAAG,KAAO,CAAAF,UAAU,EAAK,CAC7C,GAAI,CACF;AACA,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAlB,KAAK,CAACgB,GAAG,CAAC,YAAY,CAAC,CAE9C;AACA,KAAM,CAAAG,gBAAgB,CAAGD,QAAQ,CAACE,IAAI,CAACC,MAAM,CAACC,IAAI,EAChDA,IAAI,CAACC,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACV,UAAU,CAACS,WAAW,CAAC,CAAC,CAC5D,CAAC,CAED;AACAE,OAAO,CAACC,GAAG,CAAC,eAAe,CAAER,gBAAgB,CAAC,CAE9CV,gBAAgB,CAACU,gBAAgB,CAAC,CAAE;AACtC,CAAE,MAAOS,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CACF,CAAC,CAIC,mBACIxB,KAAA,CAACyB,SAAS,EAAAC,QAAA,eACV5B,IAAA,CAACL,GAAG,EAAEa,UAAU,CAAEA,UAAW,CAAC,CAAC,CAEhCF,aAAa,CAACuB,MAAM,CAAG,CAAC,cACvB7B,IAAA,CAAAI,SAAA,EAAAwB,QAAA,cACE1B,KAAA,CAAC4B,aAAa,EAAAF,QAAA,EAAC,QAAC,CAACf,UAAU,CAAC,wCAAQ,EAAe,CAAC,CACpD,CAAC,cAEHX,KAAA,CAAC6B,SAAS,EAAAH,QAAA,EAAC,sDAAW,CAACf,UAAU,CAAC,0EAAgB,EAAW,CAC9D,cAEEb,IAAA,CAACJ,UAAU,EAACoC,QAAQ,CAAE1B,aAAc,CAACC,gBAAgB,CAAEA,gBAAiB,CAAE,CAAC,EAGjE,CAAC,CAIxB,CAAC,CAED,cAAe,CAAAF,UAAU,CAGzB,KAAM,CAAAsB,SAAS,CAAG9B,MAAM,CAACoC,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAGD,KAAM,CAAAF,SAAS,CAAGlC,MAAM,CAACqC,CAAC;AAC1B;AACA;AACA;AACA;AACA;AACA,CAAC,CAGD,KAAM,CAAAJ,aAAa,CAAGjC,MAAM,CAACqC,CAAC;AAC9B;AACA;AACA;AACA;AACA,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}