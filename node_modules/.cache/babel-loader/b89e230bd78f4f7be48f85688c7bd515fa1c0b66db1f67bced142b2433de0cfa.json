{"ast":null,"code":"// frontend-service/src/services/api.js\nimport axios from 'axios';\nimport { isTokenExpired, refreshAccessToken } from './auth';\nconst apiClient = axios.create({\n  baseURL: process.env.REACT_APP_API_URL // Replace with your backend's base URL\n});\napiClient.interceptors.request.use(async config => {\n  let accessToken = sessionStorage.getItem('accessToken');\n\n  // Refresh token if expired\n  if (isTokenExpired(accessToken)) {\n    accessToken = await refreshAccessToken();\n  }\n\n  // Add the valid token to the request headers\n  config.headers.Authorization = `Bearer ${accessToken}`;\n  return config;\n});\nexport default apiClient;","map":{"version":3,"names":["axios","isTokenExpired","refreshAccessToken","apiClient","create","baseURL","process","env","REACT_APP_API_URL","interceptors","request","use","config","accessToken","sessionStorage","getItem","headers","Authorization"],"sources":["/Users/pbh7080/Desktop/project/ITeaMoa/frontend-service/src/services/api.js"],"sourcesContent":["// frontend-service/src/services/api.js\nimport axios from 'axios';\nimport { isTokenExpired, refreshAccessToken } from './auth';\n\nconst apiClient = axios.create({\n    baseURL: process.env.REACT_APP_API_URL, // Replace with your backend's base URL\n});\n\napiClient.interceptors.request.use(async (config) => {\n    let accessToken = sessionStorage.getItem('accessToken');\n\n    // Refresh token if expired\n    if (isTokenExpired(accessToken)) {\n        accessToken = await refreshAccessToken();\n    }\n\n    // Add the valid token to the request headers\n    config.headers.Authorization = `Bearer ${accessToken}`;\n    return config;\n});\n\nexport default apiClient;\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,EAAEC,kBAAkB,QAAQ,QAAQ;AAE3D,MAAMC,SAAS,GAAGH,KAAK,CAACI,MAAM,CAAC;EAC3BC,OAAO,EAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAAE;AAC5C,CAAC,CAAC;AAEFL,SAAS,CAACM,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,MAAOC,MAAM,IAAK;EACjD,IAAIC,WAAW,GAAGC,cAAc,CAACC,OAAO,CAAC,aAAa,CAAC;;EAEvD;EACA,IAAId,cAAc,CAACY,WAAW,CAAC,EAAE;IAC7BA,WAAW,GAAG,MAAMX,kBAAkB,CAAC,CAAC;EAC5C;;EAEA;EACAU,MAAM,CAACI,OAAO,CAACC,aAAa,GAAG,UAAUJ,WAAW,EAAE;EACtD,OAAOD,MAAM;AACjB,CAAC,CAAC;AAEF,eAAeT,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}